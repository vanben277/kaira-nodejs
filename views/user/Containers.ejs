<!DOCTYPE html>
<html lang="vi">
  <head>
    <title>Cửa hàng - Kaira</title>
    <%- include('../partials/user/Head') %>
    <link rel="stylesheet" href="/css/containers.css" />
  </head>

  <body>
    <%- include('../partials/user/SVGIcon') %> <%-
    include('../partials/user/Search') %> <%- include('../partials/user/Header')
    %>

    <div class="page-header">
      <div class="container">
        <h1 id="pageTitle">Sản Phẩm</h1>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Trang Chủ</a></li>
            <span>/</span>
            <li class="breadcrumb-item active" id="breadcrumbText">Sản Phẩm</li>
          </ol>
        </nav>
      </div>
    </div>

    <section class="products py-5">
      <div class="container">
        <div class="row">
          <div class="col-lg-3">
            <button class="mobile-filter-btn" onclick="toggleFilters()">
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="currentColor"
                style="margin-right: 8px"
              >
                <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" />
              </svg>
              Bộ Lọc
            </button>

            <div class="filter-sidebar" id="filterSidebar">
              <!-- Nút Xóa bộ lọc thêm vào để tiện sử dụng -->
              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <h5 class="filter-title mb-0">Bộ Lọc</h5>
                <button
                  class="btn btn-sm btn-outline-secondary btn-clear-all"
                  style="font-size: 12px"
                >
                  Xóa tất cả
                </button>
              </div>

              <div class="filter-section">
                <h5 class="filter-title">Danh Mục</h5>
                <div id="categoryList"></div>
              </div>

              <div class="filter-section">
                <h5 class="filter-title">Khoảng Giá</h5>
                <div class="form-check">
                  <input
                    class="form-check-input price-range"
                    type="radio"
                    name="price"
                    id="price1"
                    data-min="0"
                    data-max="200000"
                  />
                  <label class="form-check-label" for="price1"
                    >Dưới 200.000đ</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input price-range"
                    type="radio"
                    name="price"
                    id="price2"
                    data-min="200000"
                    data-max="500000"
                  />
                  <label class="form-check-label" for="price2"
                    >200.000đ - 500.000đ</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input price-range"
                    type="radio"
                    name="price"
                    id="price3"
                    data-min="500000"
                    data-max="1000000"
                  />
                  <label class="form-check-label" for="price3"
                    >500.000đ - 1.000.000đ</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input price-range"
                    type="radio"
                    name="price"
                    id="price4"
                    data-min="1000000"
                    data-max="999999999"
                  />
                  <label class="form-check-label" for="price4"
                    >Trên 1.000.000đ</label
                  >
                </div>
                <div class="price-inputs">
                  <input
                    type="number"
                    id="minPrice"
                    placeholder="Từ"
                    class="form-control"
                  />
                  <input
                    type="number"
                    id="maxPrice"
                    placeholder="Đến"
                    class="form-control"
                  />
                </div>
              </div>

              <div class="filter-section">
                <h5 class="filter-title">Kích Thước</h5>
                <div id="sizeList"></div>
              </div>

              <div class="filter-section">
                <h5 class="filter-title">Màu Sắc</h5>
                <div id="colorList"></div>
              </div>

              <!-- Đã xóa div filter-buttons (Áp dụng / Đặt lại) -->
            </div>
          </div>

          <div class="col-lg-9">
            <div class="products-header">
              <div class="products-count" id="productCount">Đang tải...</div>
              <div class="products-controls">
                <div class="view-toggle">
                  <button class="view-btn active">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path
                        d="M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"
                      />
                    </svg>
                  </button>
                  <button class="view-btn">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z" />
                    </svg>
                  </button>
                </div>
                <select class="sort-select">
                  <option value="default">Sắp xếp mặc định</option>
                  <option value="price_asc">Giá: Thấp đến Cao</option>
                  <option value="price_desc">Giá: Cao đến Thấp</option>
                  <option value="name_desc">Tên: A-Z</option>
                  <option value="name_asc">Tên: Z-A</option>
                  <option value="newest">Mới nhất</option>
                </select>
              </div>
            </div>

            <div class="row" id="productsGrid">
              <div class="col-12 text-center py-5">
                <div class="spinner-border" role="status">
                  <span class="visually-hidden">Đang tải...</span>
                </div>
              </div>
            </div>

            <div class="pagination-wrapper">
              <nav aria-label="Page navigation">
                <ul class="pagination" id="paginationList"></ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </section>

    <%- include('../partials/user/Footer') %> <%-
    include('../partials/user/Script') %>

    <script src="/js/containers.js"></script>
  </body>
</html>
